{% extends 'base.html' %}
{% load static %}
{% load cart %}
{% block content %}
<section class="site-banner padding-small bg-light-grey mt-2">
  <div class="container">
    <div class="row">
      <div class="col-md-12 text-start">
        <div class="breadcrumbs">
          <span class="item">
            <a href="{% url 'index' %}">Home /</a>
          </span>
          <span class="item">
            <a href="{% url 'shop' %}">Shop</a>
          </span>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="">
  <div class="container">
    <div class="">

      <section id="selling-products" class="">
        <div class="row">
          <h2><i>Beyond Infinity</i></h2>
          <p>As Nigeria's biggest sports vendor, our products cuts far and wide across all of the</p>
          <div class="border-bottom">
            <button class="btn btn-outline-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasStart" aria-controls="offcanvasStart">Filter & Sort <i class="bi bi-sliders"></i></button>
          </div>
          {% for item in items %}
          <div class="product-item col-lg-4 col-md-6 col-sm-6 padding-small mt-2" id="{{item.id}}">
            <a href="{% url 'item_details' item.pk %}">
            <div class="">
              <div class="image-holder zoom-effect">
                <img src="{{item.featured_image.url}}" alt="" class="image-rounded image-bg">
              </div>
              <div>
                <h4 class="fw-bold" style="color: #2D2D2D;">{{item.name}}</h4>
                <p class="text-muted" style="color: #2D2D2D;"><b>NGN{{item.price}}</b> <strike>NGN{{item.initial_price}}</strike></p>
                <p style="color: #2D2D2D;">{{item.kit_type}} ({{item.season}})</p>
                {% if item.customizable == True %}
                <p style="color: green;">Customizable</p>
                {% endif %}
                <hr>
                <div>
                  <div class="d-flex">
                    {% if item.stock == 0 %}                  
                    <button class="btn btn-primary" disabled><i class="icon icon-shopping-cart"></i> Out of stock</a> 
                    {% else %}
                    <a href="{% url 'item_details' item.pk %}" class="btn btn-primary"><i class="icon icon-shopping-cart"></i> Add to Cart</a> 
                    {% endif %}
                  </div>
                  {% if item.stock == 0 %}
                  <a href="{% url 'item_details' item.pk %}" class="btn btn-outline-dark"><i class="icon icon-chevron-right"></i> View this product</a>
                  {% else %}
                  <a href="{% url 'item_details' item.pk %}" class="btn btn-outline-dark"><i class="icon icon-chevron-right"></i> View this product</a>
                  {% endif %}  
                </div>
              </div>
            </div>
            </a>
          </div>
          {% endfor %}
        </div>
      </section>
      <div class="">
        <nav aria-label="Page navigation">
          <ul class="pagination">
              <li class="page-item">
                  <a class="page-link btn btn-outline-dark" href="#" aria-label="Previous">
                      <i class="bi bi-chevron-double-left"></i>
                  </a>
              </li>
              {% for num in items.paginator.page_range %}
                  <li class="page-item">
                      <a class="page-link btn btn-outline-dark {% if items.number == num %}active{% endif %}" href="?page={{ num }}">{{ num }}</a>
                  </li>
              {% endfor %}
              <li class="page-item">
                  <a class="page-link btn btn-outline-dark" href="#" aria-label="Next">
                      <i class="bi bi-chevron-double-right"></i>
                  </a>
              </li>
          </ul>
        </nav>      
      </div>
    </div>
    </div>        
  </div>      
</div>

<!-- Filter Offcanvas -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasStart" aria-labelledby="offcanvasStartLabel" aria-hidden="true" style="visibility: hidden;">
  <div class="offcanvas-header align-items-center">
    <h3 id="offcanvasStartLabel" class="offcanvas-title">Filter Items</h3>
    <button type="button" class="btn btn-outline-dark " data-bs-dismiss="offcanvas" aria-label="Close"><i class="bi bi-x-lg"></i></button>
  </div>
  <div class="offcanvas-body flex-grow-0">
    <form name="filterForm" method="GET" class="contact-form">
      <div class="form-item">
        <input type="number" minlength="2" name="min_price" placeholder="Min Price" class="u-full-width border-1 border-black">
        <input type="number" minlength="2" name="max_price" placeholder="Max Price" class="u-full-width border-1 border-black">
        <input type="text" minlength="2" name="playerName" placeholder="Player Name" class="u-full-width border-1 border-black">
        <select name="league" id="filterLeague" class="form-control u-full-width border-1 border-black">
          <option value="">--- (All Leagues)</option>
          <option value="PREMIER LEAGUE">Premier League</option>
          <option value="SPANISH LEAGUE">Spanish League</option>
          <option value="SAUDI LEAGUE">Saudi League</option>
          <option value="FRENCH LEAGUE">French League</option>
          <option value="MLS">MLS</option>
        </select>
        <select name="product_type" id="itemType" name="itemType" class="form-control u-full-width border-1 border-black">
          <option value="" selected="selected">All Items</option>
          <option value="BOOTS">Boots</option>
          <option value="JERSEY">Jersey</option>
          <option value="EQUIPMENT">Accessories</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary mb-2 d-grid w-100">Filter</button>
    </form>
  </div>
</div>
{% endblock content %}

